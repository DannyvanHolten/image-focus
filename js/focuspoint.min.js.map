{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","focusPointDiffers","$img","initialize","options","self","this","fetchAttachmentData","hasChanged","fetch","data","param","success","collection","hasOwnProperty","set","error","console","log","response","origin","get","once","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","ajaxState","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","$el","append","model","save","handler","highlight","disable","removeClass","addClass","text","activate","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
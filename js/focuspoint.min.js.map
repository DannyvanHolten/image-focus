{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","hasOwnProperty","set","error","console","log","response","origin","get","once","model","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","$cropButton","properties","cropButton","focusPointL10n","$el","append","save","differStateHandler","ajaxStateHandler","highlight","disable","setButtonText","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","$input","text","removeClass","addClass","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","cssClass","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","hasOwnProperty","set","error","console","log","response","origin","get","once","model","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","$el","append","save","differStateHandler","ajaxStateHandler","highlight","disable","setButtonText","cropButtonProgress","cropButtonSuccess","cropButtonFailed","$input","text","removeClass","addClass","activate","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
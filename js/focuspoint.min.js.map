{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","defaults","src","id","width","height","offset","x","y","focusPoint","$el","$img","initialize","options","this","set","data","attr","getStoredFocusPoint","console","log","self","prepData","get","ajax","type","url","ajaxurl","action","attachment","dataType","always","success","hasOwnProperty","error","updateFocusPoint","beforeSend","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","ajaxState","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","append","model","highlight","removeClass","addClass","text","activate","disable","events","resize","updateDimensions","once","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","wp","outerHTML","wrap","find","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
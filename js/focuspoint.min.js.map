{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","defaults","src","id","width","height","offset","x","y","focusPoint","$el","$img","initialize","options","this","set","data","attr","getStoredFocusPoint","console","log","self","prepData","get","ajax","type","action","attachment","dataType","always","success","hasOwnProperty","error","updateFocusPoint","beforeSend","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","ajaxState","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","append","model","save","highlight","removeClass","addClass","text","activate","disable","events","resize","updateDimensions","once","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","wp","outerHTML","wrap","find","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","validateFocusPoint","set","error","console","log","response","origin","get","once","model","hasOwnProperty","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","$cropButton","properties","cropButton","focusPointL10n","$el","append","save","differStateHandler","ajaxStateHandler","highlight","disable","setButtonText","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","$input","text","removeClass","addClass","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleHoverState","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","backgroundImage","backgroundSize","backgroundPosition","axe","toggleClass","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"CAAC,SAAUA,GAAGC;IAEb;IAEAA,EAAOC;QACNC;QACAC;QACAC;QACAC;YACCC,aAAa;YACbC;gBACCC,UAAU;gBACVC,MAAM;gBACNC,QAAQ;gBACRC,YAAY;gBACZC,SAAS;;YAEVA,SAAS;YACTC;gBACCC,UAAU;gBACVC,WAAW;;;OAKdhB,EAAEiB,UAAUC,GAAG,SAAS;QAEN,IAAIhB,IAAIG,MAAMc;;EAI/BC,QAAQnB,SC/BT,SAAUD,GAAGC;IAEb;IAEAC,IAAIC,OAAOkB,aAAaC,SAASC,MAAMC;QACtCC,KAAKC;QACLC,WAAU;QAEVC,KAAI;QAEJC;YACCC,MAAK;YACLC,QAAO;YACPC,SAAQ;YACRC;gBACCC,IAAG;gBACHC,IAAG;;YAEJC;gBACCF,IAAG;gBACHC,IAAG;;YAEJE;gBACCH,GAAG;gBACHC,GAAG;;YAEJG,cAAa;YACbC,YAAW;;QAEZC,OAAM;QAINC,YAAY,SAAUC;YAErB,IAAIC,IAAOC;YACXA,KAAKJ,OAAOE,EAAQF,MAEpBI,KAAKC,uBAGLD,KAAK1B,GAAG,2BAA2B;gBAElCyB,EAAKG,gBAAe;eAClBF,OAEHA,KAAK1B,GAAG,sBAAsB0B,KAAKG,gBAAgBH;;QAGpDC,qBAAqB;YAEpB,IAAIF,IAAOC;YAEXA,KAAKI;gBACJvB,KAAKC,UAAU;gBACfuB,MAAMjD,EAAEkD;oBAAOtB,IAAIgB,KAAKhB;;gBACxBuB,SAAS,SAAUC,GAAYH,GAAMP;oBAIpC,KAAqB,MAAjBO,EAAKE,SACR;wBAECR,EAAKU,mBAAmBJ,IAGxBN,EAAKW;4BAAKxB,KAAOmB,EAAKnB;4BACtBa,EAAKW;4BAAKlB,kBAAoBa,EAAKZ;4BACnCM,EAAKW;4BAAKjB,YAAcY,EAAKZ;;sBAC5B,OAAOkB;wBACRC,QAAQC,IAAIF;;;gBAIfA,OAAO,SAAUH,GAAYM,GAAUhB;oBAGtCc,QAAQC,IAAIC;;;;QAKfZ,gBAAgB,SAAUa;YAEzB,IAAIhB,IAAOC,MACPR,IAAmBQ,KAAKgB,IAAI,qBAC5BvB,IAAaO,KAAKgB,IAAI,eACtBtB,KAAc;YAEdF,EAAiBF,MAAMG,EAAWH,MACrCI,KAAc,IAGXF,EAAiBD,MAAME,EAAWF,MACrCG,KAAc,IAGfM,KAAKU,IAAI,eAAehB,KAGT,MAAXqB,MAAmC,MAAhBrB,KACtBM,KAAKiB,KAAK,qBAAqB;gBAE9BlB,EAAKG,gBAAe;eAClBF;;QAILG,gBAAgB;aAEU,MAArBH,KAAKN,eACRK,KAAKmB,MAAMR,IAAI,cAAa;;QAI9BD,oBAAoB,SAASJ;YAC5B,KAAKA,EAAKZ,WAAW0B,eAAe,SAASd,EAAKZ,WAAW0B,eAAe,MAC3E,MAAK;;;EAIP3C,QAAQnB,SCzHT,SAAUD,GAAGC;IAEbC,IAAIC,OAAO6D,iBAAiB1C,SAASC,MAAMC;QAC1CK;YACCE,OAAO;YACPC,QAAQ;YACRiC,QAAQ;YACRhC;gBACCC,GAAG;gBACHC,GAAG;;YAEJ+B;gBACChC,GAAG;gBACHC,GAAG;;YAEJgC;gBACCjC,GAAG;gBACHC,GAAG;;YAEJiC;gBACCC,OAAM;gBACNC,OAAM;gBACNC,SAAQ;gBACRC,QAAO;;;QAIT/B,YAAY;YAEXe,QAAQC,IAAI;;QAGbgB,UAAU,SAASC;YAClB,IAAIN,IAAQxB,KAAKgB,IAAI;YACrBe,EAAEnD,OAAO4C,GAAOM,IAChB9B,KAAKU;gBAAKc,OAASA;;;;EAGpBhD,QAAQnB,SCtCT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMuE,UAAUtD,SAASuD,KAAKrD;QACjCK;YACCU,YAAW;;QAEZuC,cAAa;QAGbrC,YAAY,SAAUsC,GAAYrC;YAEjC,IAAIC,IAAOC,MACPoC,IAAa,kCAAkC9E,IAAII,IAAIO,UAAU,MAAMX,IAAII,IAAIQ,OAAOE,YAAY,sBAAsBd,IAAII,IAAIE,WAAWK,UAAU,OAAOoE,eAAeD,aAAa;YAC5LpC,KAAKsC,IAAIC,OAAOH,IAEhBpC,KAAKkC,cAAc9E,EAAE,MAAME,IAAII,IAAIE,WAAWK,UAG9C+B,KAAKkC,YAAY5D,GAAG,SAAS;gBAE5ByB,EAAKmB,MAAMR,IAAI,aAAa,aAC5BX,EAAKmB,MAAMsB;oBACV3D,KAAKC,UAAU;oBACfyB,SAAS,SAAUC,GAAYH,GAAMP;wBAIpC,KAAqB,MAAjBO,EAAKE,SACR;4BAECR,EAAKmB,MAAMT,mBAAmBJ,IAG9BN,EAAKmB,MAAMR;gCAAKlB,kBAAoBa,EAAKZ;gCACzCM,EAAKmB,MAAMR,IAAI,aAAa;0BAE3B,OAAOC;4BACRC,QAAQC,IAAIF,IACZZ,EAAKmB,MAAMR,IAAI,aAAa;;;oBAI/BC,OAAO,SAAUH,GAAYM,GAAUhB;wBAGtCC,EAAKmB,MAAMR,IAAI,aAAa,WAC5BE,QAAQC,IAAIC;;;gBAKfd,KAAKkB,MAAM5C,GAAG,sBAAsB0B,KAAKyC,oBAAoBzC,OAC7DA,KAAKkB,MAAM5C,GAAG,oBAAoB0B,KAAK0C,kBAAkB1C;;QAG1DyC,oBAAoB;aAIC,MAFFzC,KAAKkB,MAAMF,IAAI,iBAGhChB,KAAK2C,cAEL3C,KAAK4C;;QAIPF,kBAAkB;YAIjB,QAFgB1C,KAAKkB,MAAMF,IAAI;cAG9B,KAAK;gBACJhB,KAAK6C,cAAcR,eAAeS,qBAClC9C,KAAK4C;gBACL;;cACD,KAAK;gBACJ5C,KAAK6C,cAAcR,eAAeU,oBAClC/C,KAAK4C;gBACL;;cACD,KAAK;gBACJ5C,KAAK6C,cAAcR,eAAeW,mBAClChD,KAAKiD;gBACL;;cACD;gBACCjD,KAAK6C,cAAcR,eAAeD;;;QAIrCS,eAAe,SAAUK;YAExBlD,KAAKkC,YAAYiB,KAAKD;;QAGvBP,WAAW;YAEV3C,KAAKkC,YACHkB,YAAY9F,IAAII,IAAIQ,OAAOE,WAC3BiF,SAAS/F,IAAII,IAAIQ,OAAOC,UACxBgF,KAAKd,eAAeD;;QAGvBa,UAAU;YAETjD,KAAKkC,YACHkB,YAAY9F,IAAII,IAAIQ,OAAOE,WAC3BgF,YAAY9F,IAAII,IAAIQ,OAAOC;;QAG9ByE,SAAS;YAER5C,KAAKkC,YACHkB,YAAY9F,IAAII,IAAIQ,OAAOC,UAC3BkF,SAAS/F,IAAII,IAAIQ,OAAOE;;;EAI3BI,QAAQnB,SCtHT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMgB,aAAaC,SAASuD,KAAKrD;QACpC0E;YACCC,QAAU;;QAGX1D,YAAY;YAEXe,QAAQC,IAAI;YACZ,IAAId,IAAOC;YAEX5C,EAAEC,GAAQiB,GAAG,UAAU;gBAEtByB,EAAKyD;gBAINxD,KAAKkB,MAAMD,KAAK,qBAAqBjB,KAAKwD,kBAAkBxD;;QAG7DwD,kBAAkB;YAEjB5C,QAAQC,IAAI;YACZ,IAAI4C,IAAczD,KAAKkB,MAAMtB,MACzBP;gBACHC,GAAGmE,EAAYpE,SAASqE;gBACxBnE,GAAGkE,EAAYpE,SAASsE;;YAGzB3D,KAAKkB,MAAMR;gBACVvB,OAAUsE,EAAYtE;gBACtBC,QAAWqE,EAAYrE;gBACvBC,QAAUA;;;QAIZuE,QAAQ;YAIP,OAFAhD,QAAQC,IAAI,4BAELb;;QAGR6D,QAAQ;YAEPzG,EAAEC,GAAQyG,IAAI,UAAU9D,KAAKwD,mBAC7B9E,SAASuD,KAAK8B,UAAUF,OAAOG,MAAMhE,MAAMiE;;;EAI5CzF,QAAQnB,SCrDT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAM2D,iBAAiB1C,SAASuD,KAAKrD;QACxCsF,WAAU;QACVtE,OAAM;QACNuE,UAAS;QACTC,cAAa;QACbC,aAAY;QACZC,aAAY;QACZC,cAAa;QAQb1E,YAAY,SAAUsC,GAAYrC;YAEjCc,QAAQC,IAAI;YAGZb,KAAKwE,aAAarC,EAAWqC,YAG7BxE,KAAKkE,WAAWO,GAAGP,SAAS;YAG5BlE,KAAKJ,OAAOE,EAAQF,MACpBI,KAAKJ,KAAKyD,SAAS/F,IAAII,IAAIE,WAAWE,OAGtCkC,KAAKmE,UAAUnE,KAAKJ,KAAKoB,IAAI,GAAG0D;YAGhC1E,KAAKJ,KAAK+E,KAAK,sCACf3E,KAAKqE,aAAarE,KAAKsC,IAAIsC,KAAK;YAGhC5E,KAAK4D,UACL5D,KAAKkB,MAAM5C,GAAG,mBAAmB0B,KAAK6E,kBAAkB7E,OAExDA,KAAKwE,WAAWvD,KAAK,qBAAqBjB,KAAK8E,qBAAqB9E;YACpEA,KAAKwE,WAAWvD,KAAK,qBAAqBjB,KAAK6E,kBAAkB7E;;QAMlEsD;QAOAM,QAAQ;YAEPhD,QAAQC,IAAI;YAEZ,IAAIpB,IAAaO,KAAKwE,WAAWxD,IAAI;YAErChB,KAAKqE,WAAWU,KAAK/E,KAAKkE;gBACzBc,aAAahF,KAAKmE;gBAClBT,MAAMjE,EAAWH;gBACjBqE,KAAKlE,EAAWF;gBAChBiC,OAAO;iBAGRxB,KAAKiF,eACLjF,KAAKkF;;QAMND,aAAa;YAEZjF,KAAKoE,cAAcpE,KAAKqE,WAAWO,KAAK,MAAMtH,IAAII,IAAIC,cACtDqC,KAAKsE,aAAatE,KAAKqE,WAAWO,KAAK,MAAMtH,IAAII,IAAIE,WAAWI;YAChEgC,KAAKuE,cAAcvE,KAAKqE,WAAWO,KAAK,MAAMtH,IAAII,IAAIE,WAAWG,SACjEiC,KAAKwE,WAAW5E,OAAOI,KAAKJ,OAAOI,KAAKqE,WAAWO,KAAK,MAAMtH,IAAII,IAAIE,WAAWE;YAGjFkC,KAAKwE,WAAW5E,OAAOI,KAAKJ;;QAM7BsF,WAAW;YAEV,IAAInF,IAAOC;YACXA,KAAKsE,WACHhG,GAAG,aAAa,SAAU6G;gBAGN,MAAhBA,EAAMC,SACTrF,EAAKsF,UAAUF,IAAO,GACpBzD,KAAKyD;gBAIVnF,KAAKuE,YACHjG,GAAG,aAAa,SAAU6G;gBAGN,MAAhBA,EAAMC,SACTrF,EAAKsF,UAAUF;eAGhB7G,GAAG,cAAc;gBAEjByB,EAAKuF,kBAAiB;eAEtBhH,GAAG,cAAc;gBAEjByB,EAAKuF,kBAAiB;gBAGxBlI,EAAEC,GACAiB,GAAG,WAAW,SAAU6G;gBAGJ,MAAhBA,EAAMC,UAETrF,EAAKmB,MAAMW;oBACVH,OAAQ;oBACRC,SAAU;oBAGX5B,EAAKqE,YAAYhB,YAAY;eAG9B9E,GAAG,aAAa,SAAU6G;gBAE1BpF,EAAK2B,KAAKyD;eAEV7G,GAAG,UAAU;gBAEbyB,EAAK+E,sBACHD;;;QAWLQ,WAAW,SAAUF,GAAOI;YAgB3B,OAVAvF,KAAK8E,sBACHU,oBAAoBL,GAAOI,IAE7BvF,KAAKoE,YAAYf,SAAS;YAE1BrD,KAAKkB,MAAMW;gBACVH,OAAQ;gBACRC,SAAU;gBAGJ3B;;QASR0B,MAAM,SAAUyD;YAEf,KAAqC,MAAjCnF,KAAKkB,MAAMF,IAAI,SAASU,MAC3B,QAAO;YAGR,IAAI+D;gBACHnG,GAAG6F,EAAMO;gBACTnG,GAAG4F,EAAMQ;eAINrE,QACAjC,IAASW,KAAKwE,WAAWxD,IAAI,WAC7BO,IAAgBvB,KAAKkB,MAAMF,IAAI,kBAC/B4E,IAAa5F,KAAKwE,WAAWxD,IAAI,UACjC6E,IAAc7F,KAAKwE,WAAWxD,IAAI;YAEtCM,EAAShC,IAAImG,EAAMnG,IAAID,EAAOC,IAAIiC,EAAcjC,GAChDgC,EAAS/B,IAAIkG,EAAMlG,IAAIF,EAAOE,IAAIgC,EAAchC,GAGhD+B,EAAShC,IAAIU,KAAK8F,OAAOC,KAAKC,SAAS1E,EAAShC,GAAG,GAAGsG;YACtDtE,EAAS/B,IAAIS,KAAK8F,OAAOC,KAAKC,SAAS1E,EAAS/B,GAAG,GAAGsG;YAGtD,IAAIpG;YAQJ,OAPAA,EAAWH,IAAKgC,EAAShC,IAAIsG,IAAc,KAC3CnG,EAAWF,IAAK+B,EAAS/B,IAAIsG,IAAe,KAG5C7F,KAAKwE,WAAW9D;gBAAKjB,YAAcA;gBACnCO,KAAKkB,MAAMR;gBAAKY,UAAYA;gBAErBtB;;QAOR6E,kBAAkB;YAEjB,IAAIpF,IAAaO,KAAKwE,WAAWxD,IAAI,eACjCM,IAAWtB,KAAKkB,MAAMF,IAAI,aAC1BK,IAASrB,KAAKkB,MAAMF,IAAI,WACxB4E,IAAa5F,KAAKwE,WAAWxD,IAAI,UACjC6E,IAAc7F,KAAKwE,WAAWxD,IAAI,WAClC9B,IAAMc,KAAKwE,WAAWxD,IAAI,QAE1BiF;YAYJ,OAXAA,EAAI3G,IAAI,KAAKgC,EAAShC,IAAI+B,IAC1B4E,EAAI1G,IAAI,KAAK+B,EAAS/B,IAAI8B,IAE1BrB,KAAKuE,YAAY7G;gBAChBgG,MAAMjE,EAAWH,IAAI;gBACrBqE,KAAKlE,EAAWF,IAAI;gBACpB2G,iBAAiB,UAAUhH,IAAM;gBACjCiH,gBAAgBP,IAAa,QAAQC,IAAc;gBACnDO,oBAAoBH,EAAI3G,IAAI,QAAQ2G,EAAI1G,IAAI;gBAGtCS;;QAURwF,qBAAqB,SAAUL,GAAOI;YAErC,IAAIc;gBACH/G,GAAG;gBACHC,GAAG;;YAGJ,KAAc,MAAVgG,GAAgB;gBACnB,IAAIE;oBACHnG,GAAG6F,EAAMO;oBACTnG,GAAG4F,EAAMQ;mBAENtG,IAASW,KAAKkB,MAAMF,IAAI;iBAC5BqF,QACI/G,IAAImG,EAAMnG,IAAID,EAAOC,GACzB+G,EAAI9G,IAAIkG,EAAMlG,IAAIF,EAAOE;;YAK1B,OAFAS,KAAKkB,MAAMR;gBAAKa,eAAiB8E;gBAE1BrG;;QAQR8E,qBAAqB;YAKpB9E,KAAKkB,MAAM/B,QAAQa,KAAKuE,YAAYpF,SACpCa,KAAKkB,MAAM9B,SAASY,KAAKuE,YAAYnF;YAGrC,IAAIiC,IAASrB,KAAKkB,MAAM/B,QAAQ;YAChCa,KAAKkB,MAAMR,IAAI,UAAUW;YAGzB,IAAIhC,IAASW,KAAKuE,YAAYlF;YAC9BW,KAAKkB,MAAMR;gBACVrB;oBACCC,GAAGD,EAAOqE,OAAOrC;oBACjB9B,GAAGF,EAAOsE,MAAMtC;;;YAIlB,IAAI5B,IAAaO,KAAKwE,WAAWxD,IAAI,eAEjCM;gBACHhC,GAAIG,EAAWH,IAAI,MAAOU,KAAKwE,WAAWxD,IAAI;gBAC9CzB,GAAIE,EAAWF,IAAI,MAAOS,KAAKwE,WAAWxD,IAAI;;YAK/C,OAFAhB,KAAKkB,MAAMR;gBAAKY,UAAYA;gBAErBtB;;QAQRsF,kBAAkB,SAAS9D;YAC1BzB,KAAKmB,MAAMW;gBAAUD,OAASJ;gBAC9BzB,KAAKqE,YAAYkC,YAAY,YAAY9E;;QAI1CsE;YACCC;gBASCC,UAAU,SAAUO,GAAOC,GAAKC;oBAE/B,IAAIC,IAASH;oBAQb,OANIA,IAAQC,IACXE,IAASF,IACCD,IAAQE,MAClBC,IAASD,IAGHC;;;;;EAMVlI,QAAQnB,SC7VT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMc,aAAaG,SAASuD,KAAKrD;QACpCiB,YAAY;YAEX,IAAIE,IAAOC;YAEX2G,YAAY;gBAEX,IAAIC,IAAqBxJ,EAAE;gBAEvBwJ,EAAmBC,WAAWzJ,EAAE,oBAAoByJ,UAEvDD,EAAmBE,KAAK;oBAEvB,IAAIC,IAAQ3J,EAAE4C;oBACdD,EAAKiH,iBAAiBD;;eAMtB;;QAGJC,kBAAkB,SAASC;YAE1B,IAAIC,IAAgBD,EAAQrC,KAAK;YACjCqC,EAAQ5D,SAAS;YAGjB,IAAImB,IAAa,IAAIlH,IAAIC,OAAOkB;gBAC/BO,IAAIiI,EAAQ5G,KAAK;gBACjBT,MAAMsH;gBASHC,KALiB,IAAI7J,IAAIG,MAAMgB;gBAClCyC,OAAOsD;gBAIa,IAAIlH,IAAIC,OAAO6D;YAGX,IAAI9D,IAAIG,MAAM2D;gBACtCgG,IAAIH;gBACJ/F,OAAOiG;gBACP3C,YAAYA;;gBAEZ5E,MAAOsH;gBAIM,IAAI5J,IAAIG,MAAMuE;gBAC3BoF,IAAIH,EAAQrC,KAAK;gBACjB1D,OAAOsD;;YAGR2C,EAAezG,IAAI,eAAc;;;EAIlClC,QAAQnB","file":"focuspoint.min.js"}
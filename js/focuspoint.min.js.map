{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","defaults","src","id","width","height","offset","x","y","focusPoint","$el","$img","initialize","options","this","data","set","attr","getStoredFocusPoint","console","log","self","prepData","get","ajax","type","action","attachment","dataType","always","success","hasOwnProperty","error","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","ajaxState","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","append","model","save","highlight","removeClass","addClass","text","activate","disable","events","resize","updateDimensions","once","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
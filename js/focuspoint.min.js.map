{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.cropbutton.js","app/models/model.focusinterface.js","app/views/view.attachment.js","app/views/view.cropbutton.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","CalcService","minMaxRange","input","min","max","Math","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","validateFocusPoint","set","error","console","log","response","origin","get","once","model","hasOwnProperty","CropButton","text","focusPointL10n","cropButton","highlightState","disableState","FocusInterface","radius","position","clickPosition","initState","moveState","activeState","hoverState","View","properties","focusInterface","_","bind","updateDimensions","left","top","Cropbutton","$cropButton","attachment","$el","append","saveAttachment","differStateHandler","ajaxStateHandler","render","toggleClass","save","highlight","disable","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","wp","addClass","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","setStateEvent","events","html","imageObject","state","setElements","setEvents","event","which","startMove","move","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","pos","backgroundImage","backgroundSize","backgroundPosition","axe","stateObject","stateClass","toggleClassState","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","el"],"mappings":"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","file":"focuspoint.min.js"}
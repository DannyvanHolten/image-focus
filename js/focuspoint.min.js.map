{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","hasChanged","fetch","data","param","success","collection","hasOwnProperty","set","error","console","log","response","origin","get","once","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","cssClass","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","$cropButton","properties","cropButton","focusPointL10n","$el","append","model","save","differStateHandler","highlight","disable","ajaxStateHandler","setButtonText","$input","text","removeClass","addClass","activate","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleClass","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","css","backgroundImage","backgroundSize","backgroundPosition","axe","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}
{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.actions.js","app/views/view.attachment.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","validateFocusPoint","set","error","console","log","response","origin","get","once","model","hasOwnProperty","FocusInterface","radius","position","clickPosition","state","init","move","active","hover","setState","attributes","_","Actions","View","$cropButton","properties","cropButton","focusPointL10n","$el","append","save","differStateHandler","ajaxStateHandler","highlight","disable","setButtonText","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","$input","text","removeClass","addClass","events","resize","updateDimensions","$attachment","left","top","render","remove","off","prototype","apply","arguments","cssClass","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","html","imageObject","setElements","setEvents","event","which","startMove","toggleHoverState","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","helper","calc","maxRange","pos","backgroundImage","backgroundSize","backgroundPosition","axe","toggleClass","input","min","max","output","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","focusInterface","el"],"mappings":"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","file":"focuspoint.min.js"}